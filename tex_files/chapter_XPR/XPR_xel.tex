\section{X-Elements}
\label{sec:XPR_xel}

All the following elements are retrievable on a Github repository \cite{xpr_api}.

``Everything is an element'', from an AJAX request to an entire web page. Every part of the website is encapsulated inside an element.

X-project provides a set of Polymer elements for local routing, API requests, forms, lists, style and admin panel, as listed below.

Elements can be customized through their attributes. Attributes can act as inputs parameters (values having effects on the element) or output parameters (values that are returned by the element). Values in parameters could be hard-coded (if they never change) or stored in variables.

Different parameters in different elements could use the same variable, so, the value of an output parameter of an element could be used as input in an input parameter of another element.

\subsection{Elements for local routing}

The following elements perform local routing (for Single Page Application).
\paragraph{\texttt{<x-router>}} Implements local routing using HTML5 Push State API. It represents the core element of the app. It intercepts routes, creates pages, and passes parameters to the page.
\paragraph{\texttt{<x-route>}} Represents a route-to-page mapping. Parameters presented in an URL are sent as attributes to the corresponding page.
\begin{lstlisting}[language=html]
<x-route route="{{route}}" page="{{page}}"/>
\end{lstlisting}
\paragraph{\texttt{<x-link>}} Is an extension of the anchor element <a> that prevents the default behavior when a click event occurs, blocking page request to the server and redirecting the request to the local router.
\begin{lstlisting}[language=html]
<a is="x-link" href="{{href}}">{{link}}/>
\end{lstlisting}

\subsection{Elements for API}

The following elements are used to create API.

\paragraph{\texttt{<api-model-create>}}

Create new instance of Model, and save to database.

\begin{lstlisting}[language=html]
<api-model-create model="{{model}}" data="{{data}}" 
collection="{{collection}}" response="{{response}}" 
error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{model} name of model (String)
\item \texttt{data} user data (Object)
\item \texttt{collection} name of collection (Object)
\item \texttt{response}	HTTP response message (String)
\item \texttt{error} object of the error response (Object)
\end{itemize}

\paragraph{\texttt{<api-model-get>}}

Get the id property name of the constructor.

\begin{lstlisting}[language=html]
<api-model-get model_id="{{model_id}}" 
collection="{{collection}}" 
response="{{response}}" error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{model-id} id of model (String)
\item \texttt{collection} name of collection (Object)
\item \texttt{response}	HTTP response message (String)
\item \texttt{error} object of the error response (Object)
\end{itemize}

\paragraph{\texttt{<api-model-update>}}

Update multiple instances that match the where clause.

\begin{lstlisting}[language=html]
<api-model-update model_id="{{model_id}} 
"collection="{{collection}}" 
response="{{response}}" error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{model-id} id of model(String).
\end{itemize}

\paragraph{\texttt{<api-model-find>}}

Find all model instances that match filter specification.

\begin{lstlisting}[language=html]
<api-model-find where="{{where}} "collection="{{collection}}" 
response="{{response}}" error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{where} where clause (Object)
\end{itemize}

\paragraph{\texttt{<api-model-delete>}}

Deletes the model from persistence.

\begin{lstlisting}[language=html]
<api-model-delete model_id="{{model_id}}" 
collection="{{collection}}" 
response="{{response}}" error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{model-id} id of model (String)
\end{itemize}

\paragraph{\texttt{<api-model-exists>}}

Check whether a model instance exists in database.

\begin{lstlisting}[language=html]
<api-model-exists model_id="{{model_id}}" exists="{{boolean}}" 
collection="{{collection}}" response="{{response}}" 
error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{model-id} id of model (String)
\item \texttt{exists} True if the instance with the specified ID exists; false otherwise (Output)
\end{itemize}

\paragraph{\texttt{<api-model-count>}}

Check whether a model instance exists in database.

\begin{lstlisting}[language=html]
<api-model-count count="{{count}}" collection="{{collection}}" 
response="{{response}}" error="{{error}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{count} number of instances updated (Output)
\end{itemize}

\subsection{Elements for forms}

The following elements are used to create forms.

\paragraph{\texttt{<x-input>}} 

Is an extension of the input element.
\begin{lstlisting}[language=html]
<x-input type="{{type}}" label="{{label}}" value="{{value}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{type} can be string, number, date, email, url, location (with auto-completion based on Google Place API) and file.
\end{itemize}

\paragraph{\texttt{<x-form>}} Dynamically generates a form from a model schema, to create/update a model.
\begin{lstlisting}[language=html]
<x-form schema="{schema}" model="{model}"/>
\end{lstlisting}

\subsection{Elements for lists}

The following elements are used to manage lists.

\paragraph{\texttt{<x-table>}} Dynamically generates a table of models from a model schema.
\begin{lstlisting}[language=html]
<x-table schema="{{schema}}" items="{{items}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{schema} is used to generate the columns of the table. 
\item \texttt{items} is used to generate the rows (the values) of the table.
\end{itemize}

\paragraph{\texttt{<x-pager>}} Generates the list of links to handle pagination.
\begin{lstlisting}[language=html]
<x-pager perpage="{{perpage}}" count="{{count}}" 
current="{{page}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{count} is the total number of items to paginate.
\item \texttt{perpage} is the number of items per page.
\item \texttt{current} is the current page selected by the user.
\end{itemize}

By itself, pagination doesnâ€™t paginate any list, but it can be used in conjunction with <api-collection-get> (as shown in the case study), where the current output parameter of <x-pager> is the input page parameter of  <api-collection-get>.


\subsection{Elements for style}

The style is based on iron-flex-layout, a CSS library of style mixins for cross-platform Flexible Box layouts.

\subsection{Elements for admin panel}

Even a page can be encapsulated in an element. x-project provides a set of pages for the admin part of the app, <page-collection> and <page-model-edit>, presented below.

\subsection{Elements for pages}

\paragraph{\texttt{<x-header>}} This element is used to insert an header at the top of the page.
\begin{lstlisting}[language=html]
<x-header links="{{links}}" brand="{{brand}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{links} is the total number of items to paginate.
\item \texttt{brand} is the number of items per page.
\end{itemize}
\paragraph{\texttt{<x-footer>}} This element is used to insert footer at the bottom of the page.
\begin{lstlisting}[language=html]
<x-footer links="{{links}}" notes="{{notes}}"/>
\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{links} is the total number of items to paginate.
\item \texttt{notes} is the number of items per page.
\end{itemize}
\paragraph{\texttt{<x-crew>}} This element is used to insert the section for the presentation of the team of a project.
\begin{lstlisting}[language=html]
<x-crew team="{{team}}"/>\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{team} is the total number of items to paginate.
\end{itemize}
\paragraph{\texttt{<x-contact>}}This element is used to insert the section for the presentation of the contact.
\begin{lstlisting}[language=html]
<x-contact contact="{{contact}}"/>\end{lstlisting}
Where:
\begin{itemize}
\item \texttt{links} is the total number of items to paginate.
\item \texttt{brand} is the number of items per page.
\end{itemize}
